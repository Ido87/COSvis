# Proposal for the libraries function

```{r proposal, include=FALSE}
  knitr::opts_chunk$set( fig.align = 'center')
```

Hey Simon, 

da ich die `libraries` Idee so super finde, habe ich versucht sie noch 
besser zu machen und so hoffentlich; bin mir aber nicht sicher ob mir das
geglückt ist. 

Mein Vorschlag für die Funktion ist unten angegeben. 
Er hat folgende "Vorteile"/Eigenschaften:

- Die `library` Funktion wird verwendet (Christop == Glücklich).
- Packete müssen nicht über `c()` zusammengefasst werden, sondern könen 
einfach eingetipselt werden. 
- Packete müssen nicht als `character` angegeben werden

Ein nachteil ist vorerst, dass die Packete nicht automatisch installiert werden. 
Aber über die Fehlermeldung oder den zurgegeben Vector kann man sehen, was 
nicht funktioniert hat. Wenn du magst könnte ich/wir versuchen das installieren 
über ein `try` bzw. ein `tryCatch` zu bewerkstelligen. Ich find aber irgendwie, 
dass das Ganze dann sehr anders als die ursprünglichen Funktionen (`require` 
und `library`) funktionieren würde. 

Naja, sag mir bescheid, hier ist erstmal der Code zum anschauen und ausprobieren:
```{r}

#' Load multiple Libraries
#' 
#' @description 
#' \code{libraries} conveniently wraps the \code{\link{base::library}} function so 
#' that multiple packages can be loaded with a signle one function call. 
#' @author Simon Frey, Daniel Klotz
#' 
#' 
#' @param ... Arguments passed to \code{\link{library}}.
#' @param vebrose A logical vector, indicating if the package start-up messages 
#'                   should be supressed (\code{FALSE}) or not (\code{TRUE}).
#' 
#' @examples
#' # loading can be done by string or by directly insertin an expression: 
#' libraries(xts)
#' libraries(shin)
#' 
#' # load multiple libraries: 
#' libraries("xts","shiny")
#' libraries(xts, shiny)
#' 
#' # mixed arguments are also possible:
#' libraries(magrittr,"shiny","png",jpg) 
#' 
#' @return Returns a logical vector that informas if the given package could be 
#'            loaded
#' @seealso \code{\link{require}}, \code{\link{library}},
#'          \code{\link{install.packages}} 
#' 
#' @importFrom lazyeval lazy_dots
#' @importFrom purrr map_lgl
#' 
#' @export
libraries <- function(..., verbose = FALSE) {
  if (base::is.logical(verbose) != TRUE) 
    stop( "verboes must be a logical! it currently is:" %&&% class(verbose) )
  parse_string <- ifelse(verbose,
                         "library('le_package', logical.return = TRUE)", 
                         "suppressPackageStartupMessages(library('le_package', 
                              logical.return = TRUE))")
  le_dots <- lazyeval::lazy_dots(...)
  loop_length <- length(le_dots)
  loader <- function(x) {
    le_package <- as.character(le_dots[[x]]$expr)
    package_loaded <- eval(
      parse( text = gsub("le_package",le_package,parse_string) )
      )
  }
  le_result <- purrr::map_lgl(1:loop_length, loader)
}
```

:
