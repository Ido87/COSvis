---
title: "Example 2: Intro to the *prepare_* functions"
output: 
  html_document:
    highlight: pygments
---
```{r, echo = FALSE, message=FALSE}
  require("visCOS")
  require("magrittr")
```

xxx
```{r}
  raw_data <- pour(runoff_example) # get example runoff
  head(raw_data)
```      

## Shake it
xxx
```{r}
  d_runoff <- prepare_remove_chunk(raw_data)
  head(d_runoff)
```

As a next step we might then want to remove unobserved basins. This can be done with `prepare_only_observed` xxx
```{r}
  d_copy <- d_runoff
  d_copy$QOBS_0001 <- NA
  d_only_observed <- prepare_only_observed(d_copy)
  head(d_only_observed)
```

Some functions need POSIXdate format (xxx), thus our **visCOS** data_frame (xxx) allows for a seperate column named `posixdate` (not case sensitive). Our example data (`drunoff`) allready inherits date in the rudimentary **COSdate** (xxx) format. Thus, we can simply apply the `prepare_complete_date` function to augment the data_frame with the POSIX column. Let us take a look:
```{r}
  d_runoff %<>%  prepare_complete_date()
  head(d_runoff) 
```

xxx
```{r}
  d_xts <- prepare_runoff_as_xts(d_runoff)
  head(d_xts)
```

